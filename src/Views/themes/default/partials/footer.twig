<footer class="bg-base-200 text-base-content mt-16">
    {% set social_links = social_links ?? {} %}
    {% set menus = menus ?? {} %}
    {% set footer = footer_content ?? {} %}
    {% set footer_summary = footer.summary ?? 'Your trusted online store for quality products.' %}
    {% set footer_contact = footer.contact ?? {} %}
    {% set footer_links = footer.links ?? {} %}
    {% set quick_links = menus.footer_quick ?? [] %}
    {% set support_links = menus.footer_customer ?? [] %}
    {% set footer_email = footer_contact.email ?? 'support@example.com' %}
    {% set footer_phone = footer_contact.phone ?? '+91 1234567890' %}
    {% set footer_line = footer.legal ?? 'All rights reserved.' %}
    <div class="max-w-6xl mx-auto px-4 py-12">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
            <div class="space-y-2">
                <h3 class="text-lg font-semibold">{{ shop.shop_name }}</h3>
                <div class="text-base-content/70 prose prose-sm max-w-none prose-p:my-0">{{ footer_summary|raw }}</div>
            </div>

            {% if quick_links|length %}
                <div class="space-y-2">
                    <h3 class="text-lg font-semibold">Quick Links</h3>
                    <ul class="menu menu-vertical p-0 space-y-1">
                        {% for link in quick_links %}
                            <li><a href="{{ link.url }}">{{ link.label }}</a></li>
                        {% endfor %}
                    </ul>
                </div>
            {% endif %}

            {% if support_links|length %}
                <div class="space-y-2">
                    <h3 class="text-lg font-semibold">Customer Service</h3>
                    <ul class="menu menu-vertical p-0 space-y-1">
                        {% for link in support_links %}
                            <li><a href="{{ link.url }}">{{ link.label }}</a></li>
                        {% endfor %}
                    </ul>
                </div>
            {% endif %}

            <div class="space-y-2">
                <h3 class="text-lg font-semibold">Contact Us</h3>
                <p class="text-base-content/70">Email: {{ footer_email }}</p>
                <p class="text-base-content/70">Phone: {{ footer_phone }}</p>

                {% set social_items = [
                    {
                        'label': 'Facebook',
                        'url': social_links.facebook ?? '',
                        'icon': '<i class="fa-brands fa-facebook text-lg" aria-hidden="true"></i>'
                    },
                    {
                        'label': 'Instagram',
                        'url': social_links.instagram ?? '',
                        'icon': '<i class="fa-brands fa-instagram text-lg" aria-hidden="true"></i>'
                    },
                    {
                        'label': 'X',
                        'url': social_links.x ?? '',
                        'icon': '<i class="fa-brands fa-x-twitter text-lg" aria-hidden="true"></i>'
                    },
                    {
                        'label': 'LinkedIn',
                        'url': social_links.linkedin ?? '',
                        'icon': '<i class="fa-brands fa-linkedin text-lg" aria-hidden="true"></i>'
                    },
                    {
                        'label': 'YouTube',
                        'url': social_links.youtube ?? '',
                        'icon': '<i class="fa-brands fa-youtube text-lg" aria-hidden="true"></i>'
                    },
                    {
                        'label': 'Pinterest',
                        'url': social_links.pinterest ?? '',
                        'icon': '<i class="fa-brands fa-pinterest text-lg" aria-hidden="true"></i>'
                    },
                    {
                        'label': 'WhatsApp',
                        'url': social_links.whatsapp ?? '',
                        'icon': '<i class="fa-brands fa-whatsapp text-lg" aria-hidden="true"></i>'
                    }
                ] %}

                {% set has_social_links = false %}
                {% for item in social_items %}
                    {% if item.url %}
                        {% set has_social_links = true %}
                    {% endif %}
                {% endfor %}

                {% if has_social_links %}
                    <div class="pt-2">
                        <ul class="flex flex-wrap items-center gap-3 list-none p-0 m-0">
                            {% for item in social_items %}
                                {% if item.url %}
                                    <li class="inline-flex">
                                        <a class="link link-hover inline-flex items-center justify-center w-10 h-10 rounded-full hover:bg-base-300 transition-colors" href="{{ item.url }}" target="_blank" rel="noopener noreferrer" aria-label="{{ item.label }}">
                                            <span class="text-base-content/70">
                                                {{ item.icon|raw }}
                                            </span>
                                        </a>
                                    </li>
                                {% endif %}
                            {% endfor %}
                        </ul>
                    </div>
                {% endif %}
            </div>
        </div>

        <div class="border-t border-base-300 mt-8 pt-6 text-center text-base-content/70">
            {% if footer_line and ('Â©' in footer_line or 'copyright' in footer_line|lower) %}
                <p>{{ footer_line }}</p>
            {% else %}
                <p>&copy; {{ "now"|date("Y") }} {{ shop.shop_name }}. {{ footer_line }}</p>
            {% endif %}
            <p class="text-sm mt-2">Powered by Cartly</p>
        </div>
    </div>
</footer>
