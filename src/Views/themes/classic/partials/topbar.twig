{% if topbar and topbar.enabled and not (session.topbar_closed ?? false) %}
<div 
    class="w-full px-4 py-3 flex items-center gap-4 text-sm font-medium relative"
    style="background-color: {{ topbar.background_color ?? '#2563eb' }}; color: {{ topbar.text_color ?? '#ffffff' }};"
    x-data="{ show: true }"
    x-show="show"
    x-transition
>
    <div class="flex-1 flex items-center justify-center gap-3 flex-wrap text-center" style="flex: 1 1 0%;">
        <div class="text-sm font-medium inline-block" style="color: {{ topbar.text_color ?? '#ffffff' }};">{{ (topbar.message ?? '')|raw }}</div>
    </div>
    <form method="POST" action="/topbar/close" class="absolute right-4" x-on:submit.prevent="show = false; $el.submit();">
        <input type="hidden" name="_token" value="{{ csrf_token }}">
        <button 
            type="submit" 
            class="opacity-70 hover:opacity-100 transition-opacity p-1 cursor-pointer bg-transparent border-none outline-none"
            aria-label="Close top bar"
            style="color: {{ topbar.text_color ?? '#ffffff' }}; background: transparent;"
        >
            <i class="fa-solid fa-times text-lg"></i>
        </button>
    </form>
</div>
{% endif %}
